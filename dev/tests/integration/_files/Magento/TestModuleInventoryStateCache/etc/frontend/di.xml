<?xml version="1.0"?>
<!--
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <preference for="Magento\InventorySalesApi\Model\GetStockItemDataInterface" type="Magento\InventoryIndexer\Model\ResourceModel\GetStockItemData"/>
    <type name="Magento\CatalogInventory\Model\Spi\StockRegistryProviderInterface">
        <plugin name="get_non_cached_stock_items" type="Magento\TestModuleInventoryStateCache\Plugin\CatalogInventory\Model\StockRegistryProvider\GetNonCachedStockItemPlugin"/>
    </type>

    <!--As some tests using fixtures which creating products with frontend configuration(ex: Magento/Sales/_files/quote_with_bundle.php),
    there is no ability to create product with status "in stock" with Magento\InventoryIndexer\Model\IsProductSalable preference. todo: should be removed after fixture fix.-->
    <preference for="Magento\InventorySalesApi\Api\IsProductSalableInterface" type="Magento\InventorySales\Model\IsProductSalableCondition\IsProductSalableConditionChain"/>
</config>
